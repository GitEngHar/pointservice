asyncapi: 2.6.0
info:
  title: Point Service Events
  version: 1.0.0
  description: Messaging API for PointService using RabbitMQ.

servers:
  dev:
    url: amqp://rabbitmq:5672
    protocol: amqp
    description: Development RabbitMQ server
    security:
      - user-password: []

channels:
  point.updated:
    $ref: ./channels/point/updated.yaml
  reservation.created:
    $ref: ./channels/reservation/created.yaml
  point.history.archived:
    $ref: ./channels/point/history_archived.yaml

components:
  schemas:
    Point:
      $ref: ./components/schemas/point.yaml
    Reservation:
      $ref: ./components/schemas/reservation.yaml
    PointHistoryArchive:
      $ref: ./components/schemas/point-history-archive.yaml
  messages:
    Point:
      $ref: ./components/messages/point.yaml
    Reservation:
      $ref: ./components/messages/reservation.yaml
    PointHistoryArchive:
      $ref: ./components/messages/point-history-archive.yaml
  securitySchemes:
    user-password:
      type: userPassword
